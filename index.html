<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nikaara Jewellers | Diamond Estimator</title>

<style>
:root{
    --bg:#eef7f4;
    --card:#ffffff;
    --border:#e3e3e3;
    --text:#2b2b2b;
    --gold:#c9a24d;
    --accent:#0a7d55;
}

body{
    margin:0;
    font-family:'Segoe UI','Inter',sans-serif;
    background:var(--bg);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}

.container{
    width:100%;
    max-width:520px;
    background:var(--card);
    padding:28px;
    border-radius:18px;
    box-shadow:0 20px 50px rgba(0,0,0,0.12);
}

.logo{
    display:block;
    margin:0 auto 14px;
    max-width:150px;
}

h2{
    text-align:center;
    margin-bottom:22px;
    color:var(--text);
}

.section{
    margin-top:22px;
}

.section-title{
    font-size:14px;
    font-weight:600;
    margin-bottom:10px;
    color:#555;
    border-left:4px solid var(--gold);
    padding-left:8px;
}

label{
    font-size:13px;
    margin-top:10px;
    display:block;
}

input,select{
    width:100%;
    padding:11px;
    margin-top:6px;
    border-radius:8px;
    border:1px solid var(--border);
    font-size:14px;
}

.currency{
    position:relative;
}
.currency span{
    position:absolute;
    left:12px;
    top:50%;
    transform:translateY(-50%);
    color:#777;
}
.currency input{
    padding-left:26px;
}

button{
    width:100%;
    padding:14px;
    margin-top:18px;
    border:none;
    border-radius:10px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}

.btn-estimate{
    background:#252216;
    color:#fff;
}

.btn-discount{
    background:var(--gold);
    color:#fff;
}

.result{
    margin-top:22px;
}

.box{
    background:#fafafa;
    border:1px solid var(--border);
    border-radius:12px;
    padding:14px;
    margin-bottom:12px;
}

.box h4{
    margin:0 0 8px;
    font-size:14px;
}

.box p{
    margin:4px 0;
    display:flex;
    justify-content:space-between;
    font-size:13px;
}

.summary{
    background:#f1f6f4;
    border-radius:14px;
    padding:16px;
    margin-top:14px;
}

.final{
    font-size:20px;
    font-weight:700;
}

.saved{
    margin-top:6px;
    color:var(--accent);
    font-weight:600;
}

.note{
    margin-top:12px;
    font-size:11px;
    color:#777;
    text-align:center;
}
.stone-row{
    display:grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap:8px;
    margin-top:10px;
}

.stone-row select,
.stone-row input{
    width:100%;
}
</style>
</head>

<body>

<div class="container">

<img src="nikaara-logo.png" class="logo">
<h2>Diamond Price Estimator</h2>

<div class="section">
<div class="section-title">Gold Details</div>

<label>Select Gold Karat</label>
<select id="goldKarat">
    <option value="9K">9K</option>
    <option value="14K">14K</option>
    <option value="18K">18K</option>
    <option value="22K">22K</option>
</select>

<label>Gold Gross Weight (grams)</label>
<input id="grossWt" type="number" step="0.001">

<label>Gold Price (per gram)</label>
<div class="currency">
    <span>₹</span>
    <input id="goldRate" type="number">
</div>
</div>

<div class="section">
<div class="section-title">Diamond Details</div>

<label>Main Diamond Weight (carats)</label>
<input id="diamondCt" type="number" step="0.01">

<label>Main Diamond Price (per carat)</label>
<div class="currency">
    <span>₹</span>
    <input id="diamondRate" type="number">
</div>
</div>

<div class="section">
<div class="section-title">Other Stones</div>

<select id="hasStones" onchange="toggleStones()">
    <option value="no">No</option>
    <option value="yes">Yes</option>
</select>

<div id="stonesSection" style="display:none;margin-top:10px">
    <button type="button" onclick="addStone()">+ Add Stone</button>
    <div id="stoneList"></div>
</div>
</div>

<button class="btn-estimate" onclick="calculate()">Get Estimation</button>
<button class="btn-discount" onclick="calculateDiscount()">Get With Discount</button>

<div class="result" id="output"></div>

<div class="note">
*Prices shown are estimates. Final billing may vary slightly.
</div>

</div>

<script>
const GST = 0.03;

function makingRate(w){
    if(w < 0.5) return 1200;
    if(w < 1) return 1799;
    return 1799;
}

function toggleStones(){
    stonesSection.style.display =
        hasStones.value === "yes" ? "block" : "none";
}

function addStone(){
    const d = document.createElement("div");
    d.className = "stone-row";

    d.innerHTML = `
        <select class="stoneType">
            <option value="diamond">Diamond</option>
            <option value="other">Other</option>
        </select>

        <input class="stoneCt" type="number" step="0.01" placeholder="Weight (ct)">

        <input class="stoneRate" type="number" placeholder="₹ / ct">
    `;

    stoneList.appendChild(d);
}


function stoneTotals(){
    let diamond = 0, other = 0;
    document.querySelectorAll("#stoneList div").forEach(row=>{
        const type = row.querySelector(".stoneType").value;
        const ct = parseFloat(row.querySelector(".stoneCt").value);
        const rate = parseFloat(row.querySelector(".stoneRate").value);
        if(!isNaN(ct) && !isNaN(rate)){
            if(type === "diamond") diamond += ct * rate;
            else other += ct * rate;
        }
    });
    return {diamond, other};
}

/* ================= GET ESTIMATION ================= */

function calculate(){
    const gross = parseFloat(grossWt.value);
    const goldRate = parseFloat(document.getElementById("goldRate").value);
    const dCt = parseFloat(diamondCt.value);
    const dRate = parseFloat(diamondRate.value);
    const selectedKarat = document.getElementById("goldKarat").value;

    if([gross, goldRate, dCt, dRate].some(isNaN)){
        alert("Please enter all values");
        return;
    }

    const netGold = gross - (dCt * 0.2);
    if(netGold <= 0){
        alert("Invalid weight");
        return;
    }

    const goldValue = netGold * goldRate;
    const making = netGold * makingRate(netGold);

    const stones = stoneTotals();
    const totalDiamond = (dCt * dRate) + stones.diamond;

    const sub = goldValue + totalDiamond + making + stones.other;
    const gst = sub * GST;

    output.innerHTML = `
    <div class="box">
        <h4>Selected Gold Karat</h4>
        <p><b>${selectedKarat}</b></p>
    </div>

    <div class="box">
        <h4>Gold</h4>
        <p><span>Gold Value</span><span>₹${goldValue.toFixed(2)}</span></p>
    </div>

    <div class="box">
        <h4>Diamonds</h4>
        <p><span>Total Diamond Value</span><span>₹${totalDiamond.toFixed(2)}</span></p>
    </div>

    <div class="box">
        <h4>Making Charges</h4>
        <p><span>Making</span><span>₹${making.toFixed(2)}</span></p>
    </div>

    <div class="box">
        <h4>Other Stones</h4>
        <p><span>Total Value</span><span>₹${stones.other.toFixed(2)}</span></p>
    </div>

    <div class="summary">
        <p><span>Total Before GST</span><span>₹${sub.toFixed(2)}</span></p>
        <p><span>GST (3%)</span><span>₹${gst.toFixed(2)}</span></p>
        <hr>
        <p class="final">Final Price: ₹${(sub + gst).toFixed(2)}</p>
        <p style="font-size:12px">Net Gold Weight: ${netGold.toFixed(3)} g</p>
    </div>`;
}

/* ================= GET WITH DISCOUNT ================= */

function calculateDiscount(){
    const gross = parseFloat(grossWt.value);
    const goldRate = parseFloat(document.getElementById("goldRate").value);
    const dCt = parseFloat(diamondCt.value);
    const dRate = parseFloat(diamondRate.value);
    const selectedKarat = document.getElementById("goldKarat").value;

    if([gross, goldRate, dCt, dRate].some(isNaN)){
        alert("Please enter all values");
        return;
    }

    const netGold = gross - (dCt * 0.2);
    if(netGold <= 0){
        alert("Invalid weight");
        return;
    }

    const goldValue = netGold * goldRate;
    const making = netGold * makingRate(netGold);
    const makingDisc = making * 0.16;

    const stones = stoneTotals();
    const totalDiamond = (dCt * dRate) + stones.diamond;
    const diamondDisc = totalDiamond * 0.11;

    const sub =
        goldValue +
        (totalDiamond - diamondDisc) +
        (making - makingDisc) +
        stones.other;

    const gst = sub * GST;

    output.innerHTML = `
    <div class="box">
        <h4>Selected Gold Karat</h4>
        <p><b>${selectedKarat}</b></p>
    </div>

    <div class="box">
        <h4>Gold</h4>
        <p><span>Gold Value</span><span>₹${goldValue.toFixed(2)}</span></p>
    </div>

    <div class="box">
        <h4>Diamonds</h4>
        <p><span>Total Diamond Value</span><span>₹${totalDiamond.toFixed(2)}</span></p>
        <p><span>Diamond Discount (11%)</span><span>-₹${diamondDisc.toFixed(2)}</span></p>
        <p><b><span>After Discount</span><span>₹${(totalDiamond - diamondDisc).toFixed(2)}</span></b></p>
    </div>

    <div class="box">
        <h4>Making Charges</h4>
        <p><span>Original</span><span>₹${making.toFixed(2)}</span></p>
        <p><span>Making Discount (16%)</span><span>-₹${makingDisc.toFixed(2)}</span></p>
        <p><b><span>After Discount</span><span>₹${(making - makingDisc).toFixed(2)}</span></b></p>
    </div>

    <div class="box">
        <h4>Other Stones</h4>
        <p><span>Total Value</span><span>₹${stones.other.toFixed(2)}</span></p>
    </div>

    <div class="summary">
        <p><span>Total After Discount (Before GST)</span><span>₹${sub.toFixed(2)}</span></p>
        <p><span>GST (3%)</span><span>₹${gst.toFixed(2)}</span></p>
        <hr>
        <p class="final">Final Price: ₹${(sub + gst).toFixed(2)}</p>
        <p class="saved">You Saved ₹${(diamondDisc + makingDisc).toFixed(2)}</p>
        <p style="font-size:12px">Net Gold Weight: ${netGold.toFixed(3)} g</p>
    </div>`;
}
</script>

</body>
</html>
